<a:application xmlns:a="http://ajax.org/2005/aml">
	<a:window id = "pjbuildDialog"
           title = "Build Configuration"
          center = "true"
	   		left = "500"
           width = "500"
          height = "400"
       resizable = "false"
         kbclose = "true"
         buttons = "close"
		   modal = "false"
       draggable = "true">
	   
		<a:vbox width="32%" height="100%" style=" float:left; background-color:#FFFFFF; margin:5px 3px 5px 3px; border:thin solid #ccc;">
			<a:tree id = "pjBuildTree" 
				  skin = "pjbuildtree"
		   contextmenu = "pjBuildTreeMenu"
		     scrollbar = "sbShared 1 1 1"
		   multiselect = "false" 
		     canrename = "false"
          onbeforemove = "this.disable();"
		  		 model = "{require('ext/pjbuild/pjbuild').model}">			
				<a:each match="[pjbuildtitle|pjbuildfile]">
					<a:caption match="[@name]"/>
				</a:each>
				<a:add set="{require('ext/pjbuild/pjbuild').model}" />
				<a:remove set="{require('ext/pjbuild/pjbuild').model}"/>
				<a:selectable match="[pjbuildfile]"/>
				<a:icon match="[pjbuildfile]" value="page_white_text.png" />
				<a:icon match="[pjbuildtitle]" value="cog.png"/>
			</a:tree>
		</a:vbox>
		
		<a:vbox  width="65%" style="float:left; height:100%; position:relative" height="100%">
			<a:tab flex="1" id="tabPkgmgr" skin="buildTab">
				<a:page caption="main">
					<a:hbox align="center" edge="0 0 5 0" padding="5" class="BTabEdge">   
						<a:label width="100">Name :</a:label>
						<a:textbox id="txtBuildShell" flex="1" value="[{pjBuildTree.selected}::@name]"></a:textbox>
					</a:hbox>
					<a:hbox align="center" edge="0 0 5 0" padding="5" class="BTabEdge">     							
						<a:label width="100">Shell Command :</a:label>
						<a:textbox id="txtBuildShell" flex="1" value="[{pjBuildTree.selected}::@shell]"></a:textbox>
					 </a:hbox>
				</a:page>
				
				<a:page class="BpageTab" caption="Argument">
					<a:hbox align="center" edge="0 0 5 0" padding="5" class="BTabEdge">     
							<a:label width="100">Argument :</a:label>
							<a:textbox id="txtBuildArg" flex="1" value="[{pjBuildTree.selected}::@argv]"></a:textbox>
					 </a:hbox>
				</a:page>
			</a:tab>
			<a:hbox edge="11 10 0 0" pack="end">
			 <a:button id = "btnPjbuildB"
					class = "green dark"
                  	 skin = "btn-default-css3"
                  caption = "Build"
                   margin = "0 10 0 0"/>
			</a:hbox>
		</a:vbox>
		
		<a:menu id="pjBuildTreeMenu"  render="runtime">
            <a:item onclick="require('ext/pjbuild/pjbuild').addPjBuildFile()">New</a:item>
			<a:item match="[pjbuildfile]" onclick="require('ext/pjbuild/pjbuild').removePjBuildFile()" >Remove</a:item>
			<a:divider />
		</a:menu>
    </a:window>
</a:application>